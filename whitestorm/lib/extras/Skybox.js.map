{"version":3,"sources":["extras/Skybox.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;;IAAY,K;;AAEZ;;AACA;;;;;;IAEM,M;;;AACJ,oBAAyB;AAAA,QAAb,MAAa,yDAAJ,EAAI;AAAA;;AAAA,wGACjB,MADiB,EACT,QADS;;AAGvB,qBAAO,MAAP,EAAe;AACb,eAAS,KADI;AAEb,iBAAW,MAFE;AAGb,cAAQ,EAHK;AAIb,WAAK,IAJQ;AAKb,YAAM;AALO,KAAf;;AAQA,QAAI,oBAAJ;AAAA,QAAiB,eAAjB;;AAEA,YAAQ,OAAO,OAAf;AACE,WAAK,KAAL;AAAY;AACV,cAAM,aAAa,CAAC,MAAD,EAAS,MAAT,EAAiB,MAAjB,EAAyB,MAAzB,EAAiC,MAAjC,EAAyC,MAAzC,CAAnB;AAAA,cACE,WAAW,EADb;;AAGA,wBAAc,IAAI,MAAM,YAAV,CAAuB,OAAO,MAA9B,EAAsC,OAAO,MAA7C,EAAqD,OAAO,MAA5D,CAAd;;AAEA,eAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,CAApB,EAAuB,GAAvB,EAA4B;AAC1B,qBAAS,IAAT,CAAc,IAAI,iBAAJ,CAAsB;AAClC,mBAAK,kBAAQ,OAAO,IAAP,GAAc,WAAW,CAAX,CAAd,GAA8B,OAAO,SAA7C,EAAwD,KAAxD,CAD6B;AAElC,oBAAM,MAAM,QAFsB;AAGlC,mBAAK,OAAO;AAHsB,aAAtB,CAAd;AAKD;;AAED,mBAAS,IAAI,MAAM,gBAAV,CAA2B,QAA3B,CAAT;;AAEA;AACD;AACD,WAAK,QAAL;AAAe;AACb,wBAAc,IAAI,MAAM,cAAV,CAAyB,OAAO,MAAP,GAAgB,CAAzC,EAA4C,EAA5C,EAAgD,EAAhD,CAAd;AACA,mBAAS,IAAI,MAAM,iBAAV,CAA4B;AACnC,iBAAK,kBAAQ,OAAO,IAAP,GAAc,OAAO,SAA7B,EAAwC,KAAxC,CAD8B;AAEnC,kBAAM,MAAM,QAFuB;AAGnC,iBAAK,OAAO;AAHuB,WAA5B,CAAT;;AAMA;AACD;AACD;AA7BF;;AAgCA,QAAM,OAAO,IAAI,MAAM,IAAV,CAAe,WAAf,EAA4B,MAA5B,CAAb;AACA,SAAK,WAAL,GAAmB,MAAnB;;AAEA,gGAAgB,IAAhB;AACA;AAjDuB;AAkDxB;;;;;QAID,M,GAAA,M","file":"Skybox.js","sourcesContent":["import * as THREE from 'three';\r\n\r\nimport {extend, texture} from '../extras/api';\r\nimport {Shape} from '../core/Shape';\r\n\r\nclass Skybox extends Shape {\r\n  constructor(params = {}) {\r\n    super(params, 'skybox');\r\n\r\n    extend(params, {\r\n      skyType: 'box',\r\n      imgSuffix: '.png',\r\n      radius: 10,\r\n      fog: true,\r\n      path: ''\r\n    });\r\n\r\n    let skyGeometry, skyMat;\r\n\r\n    switch (params.skyType) {\r\n      case 'box': {\r\n        const directions = ['xpos', 'xneg', 'ypos', 'yneg', 'zpos', 'zneg'],\r\n          matArray = [];\r\n\r\n        skyGeometry = new THREE.CubeGeometry(params.radius, params.radius, params.radius);\r\n\r\n        for (let i = 0; i < 6; i++) {\r\n          matArray.push(new MeshBasicMaterial({\r\n            map: texture(params.path + directions[i] + params.imgSuffix, false),\r\n            side: THREE.BackSide,\r\n            fog: params.fog\r\n          }));\r\n        }\r\n\r\n        skyMat = new THREE.MeshFaceMaterial(matArray);\r\n\r\n        break;\r\n      }\r\n      case 'sphere': {\r\n        skyGeometry = new THREE.SphereGeometry(params.radius / 2, 60, 40);\r\n        skyMat = new THREE.MeshBasicMaterial({\r\n          map: texture(params.path + params.imgSuffix, false),\r\n          side: THREE.BackSide,\r\n          fog: params.fog\r\n        });\r\n\r\n        break;\r\n      }\r\n      default:\r\n    }\r\n\r\n    const mesh = new THREE.Mesh(skyGeometry, skyMat);\r\n    mesh.renderDepth = 1000.0;\r\n\r\n    super.setNative(mesh);\r\n    super.wrap();\r\n  }\r\n}\r\n\r\nexport {\r\n  Skybox\r\n};\r\n"]}